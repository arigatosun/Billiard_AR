# NDIレシーバーの使用方法

このパッケージには、OBSからNDI経由で映像を受信し、Unityのシーン内のQuadに表示するためのスクリプトが含まれています。

## 前提条件

- KlakNDIがインストールされていること
- OBSにNDIプラグインがインストールされていること

## セットアップ手順

### 1. OBSの設定

1. OBSを起動し、NDI出力を有効にします
2. 「ツール」→「NDI出力設定」を開き、「メイン出力」を有効にします
3. 必要に応じてNDI出力の名前を設定します（デフォルトはコンピュータ名）

### 2. Unityでの設定

1. シーンにQuadを配置します（GameObject → 3D Object → Quad）
2. 作成したQuadにNDIReceiverコンポーネントをアタッチします
3. インスペクタでNDIソース名を設定するか、空のままにして自動検出させます
4. 「Target Quad」フィールドに、映像を表示したいQuadを設定します（設定しない場合は同じGameObjectが使用されます）

### 3. UIでのソース選択（オプション）

NDIソースを動的に選択したい場合は、以下の手順でUIを設定します：

1. UIキャンバスを作成し、ドロップダウンとボタンを配置します
2. NDISourceSelectorコンポーネントをキャンバスまたは別のGameObjectにアタッチします
3. インスペクタで以下を設定します：
   - Source Dropdown: NDIソース選択用のドロップダウン
   - Refresh Button: ソース一覧更新用のボタン
   - Ndi Receiver: 先ほど作成したNDIReceiverコンポーネント

## トラブルシューティング

- NDIソースが見つからない場合は、OBSでNDI出力が有効になっているか確認してください
- 映像が表示されない場合は、Quadのマテリアルとレンダラーが正しく設定されているか確認してください
- パフォーマンスの問題がある場合は、RenderTextureの解像度を調整してください（デフォルトは1920x1080）

## スクリプトの説明

- **NDIReceiver.cs**: NDIソースからの映像を受信してQuadに表示するメインコンポーネント
- **NDISourceSelector.cs**: UIを使用してNDIソースを選択するためのコンポーネント
- **NDIReceiverEditor.cs**: Unity EditorでのNDIReceiverコンポーネントの使いやすさを向上させるエディタ拡張

## 注意事項

- NDI通信は高帯域幅を使用するため、ネットワークパフォーマンスに影響を与える可能性があります
- 高解像度の映像を使用する場合は、RenderTextureの設定を適切に調整してください 